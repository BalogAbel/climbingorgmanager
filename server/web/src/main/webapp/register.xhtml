<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
        xmlns="http://www.w3.org/1999/xhtml">
<h:head>
    <title>Climbing Organization Manager</title>
    <h:outputStylesheet name="login.css" library="css"/>
    <h:outputStylesheet name="registration.css" library="css"/>
</h:head>
<h:body>
    <div class="login-card registration">
        <h1>Registration</h1><br/>

        <h:form id="registration">
            <h:outputLabel value="Username:" for="username"/>
            <h:inputText value="#{registrationBean.user.userName}" a:placeholder="Username" id="username"/>
            <h:message for="username" styleClass="error"/>
            <br/>

            <h:outputLabel value="Password:" for="password"/>
            <h:inputSecret value="#{registrationBean.user.password}" a:placeholder="Password" id="password">
                <f:validator validatorId="passwordValidator"/>
                <f:attribute name="password2" value="#{password2}"/>
            </h:inputSecret>
            <h:message for="password" styleClass="error"/>
            <br/>

            <h:outputLabel value="Confirm password:" for="password2"/>
            <h:inputSecret binding="#{password2}" a:placeholder="Confirm password" id="password2">
            </h:inputSecret>
            <h:message for="password2" styleClass="error"/>
            <br/>

            <h:outputLabel value="Email:" for="email"/>
            <h:inputText value="#{registrationBean.user.email}" a:placeholder="Email" id="email"
                    validatorMessage="email format is not valid">
                <f:validateRegex
                        pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>
            </h:inputText>
            <h:message for="email" styleClass="error"/>
            <br/>

            <h:outputLabel value="First name:" for="firstName"/>
            <h:inputText value="#{registrationBean.user.userData.firstName}" a:placeholder="First name" id="firstName"/>
            <h:message for="firstName" styleClass="error"/>
            <br/>

            <h:outputLabel value="Last name:" for="lastName"/>
            <h:inputText value="#{registrationBean.user.userData.lastName}" a:placeholder="Last name" id="lastName"/>
            <h:message for="lastName" styleClass="error"/>
            <br/>

            <h:outputLabel value="Address:" for="address"/>
            <h:inputText value="#{registrationBean.user.userData.address}" a:placeholder="Address" id="address"/>
            <h:message for="address" styleClass="error"/>

            <h:commandButton value="register" styleClass="login login-submit" action="#{registrationBean.register}"/>
        </h:form>


        <div class="login-help">
            Already a user?&#160;
            <h:outputLink value="login.xhtml">Login</h:outputLink>
        </div>
    </div>

</h:body>
</html>